

<!-- âœ… Formulaire -->
<form 
      [formGroup]="pollutionForm"
      (ngSubmit)="sendForm()"
      class="max-w-xl mx-auto p-6 sm:p-8 bg-white rounded-2xl shadow-xl space-y-6 border border-gray-100 transition-all duration-300">

  <h2 class="text-2xl font-bold text-center text-indigo-700">DÃ©clarer une pollution ğŸŒ</h2>
  <p class="text-center text-gray-500 text-sm mb-4">
    Merci de nous aider Ã  signaler une pollution et protÃ©ger lâ€™environnement
  </p>

  <!-- Titre -->
  <div>
    <label for="titre" class="block text-sm font-semibold text-indigo-700">Titre</label>
    <input id="titre" type="text" formControlName="titre"
           [ngClass]="{'border-red-500': f['titre'].touched && f['titre'].invalid}"
           class="mt-1 w-full px-3 py-2 border rounded-lg shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 outline-none transition">
    <p *ngIf="f['titre'].touched && f['titre'].invalid" class="text-red-600 text-sm mt-1">
      <span *ngIf="f['titre'].errors?.['required']">âš ï¸ Le titre est requis.</span>
      <span *ngIf="f['titre'].errors?.['minlength']">âš ï¸ Minimum 3 caractÃ¨res.</span>
    </p>
  </div>

  <!-- Type -->
  <div>
    <label for="type" class="block text-sm font-semibold text-indigo-700">Type</label>
    <select id="type" formControlName="type"
            [ngClass]="{'border-red-500': f['type'].touched && f['type'].invalid}"
            class="mt-1 w-full px-3 py-2 border rounded-lg shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 outline-none transition">
      <option value="">-- SÃ©lectionnez --</option>
      <option value="Plastique">Plastique</option>
      <option value="Chimique">Chimique</option>
      <option value="DÃ©pÃ´t sauvage">DÃ©pÃ´t sauvage</option>
      <option value="Eau">Eau</option>
      <option value="Air">Air</option>
      <option value="Autre">Autre</option>
    </select>
  </div>

  <!-- Description -->
  <div>
    <label for="description" class="block text-sm font-semibold text-indigo-700">Description</label>
    <textarea id="description" formControlName="description" rows="4"
              class="mt-1 w-full px-3 py-2 border rounded-lg shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 outline-none transition"></textarea>
  </div>

  <!-- Date -->
  <div>
    <label for="date" class="block text-sm font-semibold text-indigo-700">Date</label>
    <input id="date" type="date" formControlName="date"
           class="mt-1 w-full px-3 py-2 border rounded-lg shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 outline-none transition">
  </div>

  <!-- Lieu -->
  <div>
    <label for="lieu" class="block text-sm font-semibold text-indigo-700">Lieu</label>
    <input id="lieu" type="text" formControlName="lieu"
           class="mt-1 w-full px-3 py-2 border rounded-lg shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 outline-none transition">
  </div>

  <!-- CoordonnÃ©es -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label for="latitude" class="block text-sm font-semibold text-indigo-700">Latitude</label>
      <input id="latitude" type="number" step="any" formControlName="latitude"
             class="mt-1 w-full px-3 py-2 border rounded-lg shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 outline-none transition">
    </div>
    <div>
      <label for="longitude" class="block text-sm font-semibold text-indigo-700">Longitude</label>
      <input id="longitude" type="number" step="any" formControlName="longitude"
             class="mt-1 w-full px-3 py-2 border rounded-lg shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 outline-none transition">
    </div>
  </div>

  <!-- Photo -->
  <div>
    <label class="block text-sm font-semibold text-indigo-700 mb-2">Photo</label>
    <input type="url" formControlName="photo" placeholder="https://..." 
           class="block w-full text-sm text-gray-700 border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-indigo-400 outline-none transition mb-3">

    <div class="flex flex-col sm:flex-row gap-3">
      <label class="flex-1 cursor-pointer bg-gradient-to-r from-indigo-600 to-blue-500 text-white text-center py-2 rounded-xl shadow-lg hover:scale-[1.02] transition-transform">
        ğŸ“ Depuis lâ€™ordinateur
        <input type="file" accept="image/*" (change)="onPhotoSelected($event)" class="hidden" />
      </label>

      <label class="flex-1 cursor-pointer bg-gradient-to-r from-green-600 to-teal-500 text-white text-center py-2 rounded-xl shadow-lg hover:scale-[1.02] transition-transform">
        ğŸ“· Prendre une photo
        <input type="file" accept="image/*" capture="environment" (change)="onPhotoSelected($event)" class="hidden" />
      </label>
    </div>

    <div *ngIf="photoPreview" class="mt-4 text-center">
      <p class="text-sm text-gray-500 mb-1">AperÃ§u :</p>
      <img [src]="photoPreview" alt="PrÃ©visualisation"
           class="w-full h-48 object-cover rounded-lg shadow-md border border-gray-200" />
    </div>
  </div>

  <!-- Bouton -->
  <div>
    <button type="submit" [disabled]="pollutionForm.invalid"
            class="w-full bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white font-semibold py-3 px-4 rounded-xl shadow-lg hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition disabled:opacity-60 disabled:cursor-not-allowed">
      ğŸš€ DÃ©clarer
    </button>
  </div>
</form>



